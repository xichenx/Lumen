# JitPack 构建配置
# JitPack 会自动检测此文件并按照配置构建
# 注意：此文件必须保留，JitPack 平台需要它来构建项目
jdk:
  - openjdk17

before_install:
  - chmod +x ./gradlew
  # 使用项目中 gradle-wrapper.properties 配置的 Gradle 版本（8.13）
  # 不需要手动设置版本，避免与 Android Gradle Plugin 要求不匹配

# JitPack 模式：只构建根聚合模块 lumen
# 强制使用正确的坐标格式：com.github.xichenx:lumen
# 这样可以避免 JitPack 识别错误（如 com.github.XichenX.Lumen:lumen）
install:
  - ./gradlew :lumen:clean :lumen:assemble :lumen:publishToMavenLocal -Pgroup=com.github.xichenx -PartifactId=lumen -x test -xlint

